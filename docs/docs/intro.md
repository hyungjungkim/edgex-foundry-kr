# 소개

엣지X 파운드리는 장치, 센서, 구동기, 또는 다른 IoT 개체의 물리적 세계와 연동하는 오픈소스이고, 벤더 중립적이고, 유연하며, 상호운영이 가능한 네트워크 엣지의 소프트웨어 플랫폼입니다. 간단히 말해서, 엣지X는 물리적 감지 및 구동 "사물(things)"과 정보 기술 시스템 사이에서 사용되는 엣지 미들웨어입니다.

![](https://docs.edgexfoundry.org/1.3/general/EdgeX_middleware.png)

엣지X 플랫폼은 빠르게 성장하고 있는 IoT 솔루션 제공 업체 커뮤니티가 상호운용 가능한 구성요소의 생태계에서 협력을 하여 불확실성을 줄이고 출시 기간을 단축하며 확장을 촉진할 수 있도록 지원하고 장려합니다.

이처럼 반드시 필요한 상호운영성을 제공함으로써 엣지X는 물리적 세계의 사물을 보다 쉽게 모니터링하고, 명령을 전달하고, 그들로부터 데이터를 수집하고, 포그를 지나 데이터를 저장, 집계, 분석 및 정보로 변환하고, 구동 또는 작용하는 클라우드로 이동할 수 있도록 합니다. 따라서 엣지X는 데이터를 클라우드나 기업 인프라 쪽의 북쪽 방향으로 이동하여 장비, 센서, 구동기로 되돌릴 수 있도록 합니다.

이 이니셔티브는 공통 목표를 중심으로 조정되었습니다: IoT 시장에서 계층화된 엣지 컴퓨팅 아키텍처를 위한 기반을 단순화하고 표준화하는 동시에 생태계가 상당한 부가가치 차별화를 제공할 수 있도록 함.

추가 설명이 필요하지 않고, 곧바로 엣지X 파운드리를 사용하려면 다음 링크를 사용하세요: [시작 가이드](https://docs.edgexfoundry.org/1.3/getting-started/)

## 엣지X 파운드리 사용 사례들

초기에 산업용 IoT 요구에 대응하기 위해 개발된 엣지X는 오늘날 다양한 사용 사례들에 사용되고 있습니다:

* 빌딩 자동화 - 공유 작업 공간 시설 관리 지원
* 오일/가스 - 가스 공급 밸브의 폐쇄 루프 제어
* 소매 - 판매 시점에서의 손실 방지를 위한 다중 센서 조정
* 수 처리 - 화학약품 투입 모니터링 및 제어
* 소비자 IoT - 오픈소스 홈엣지 프로젝트에서 엣지X의 요소를 스마트 홈 플랫폼의 일부로 사용

## 엣지X 파운드리 구조적 지침

엣지X 파운드리는 전체 아키텍처를 안내하는 다음의 지침으로 고안되었습니다.

* **엣지X 파운드리는 플랫폼에 독립적이어야 함**
  * 하드웨어(x86, ARM)
  * 운영체제(Linux, Windows, MacOS, ...)
  * 배포(엣지, 게이트 웨이, 포그, 클라우드 등의 마이크로 서비스를 통해 기술 배포가 가능)
  * 배치/통합 (Docker, Snaps, K8s, roll-your-own, ... )
  * 프로토콜(북쪽 또는 남쪽 측면 프로토콜)
* **엣지X 파운드리는 매우 유연해야 함**
  * 플랫폼의 모든 부분은 다른 마이크로 서비스 또는 소프트웨어 구성요소에 의해 업그레이드, 교체 또는 증각될 수 있음
  * 장치의 기능이나 사용 사례에 따라 서비스의 스케일 업 또는 다운이 가능함
* **엣지X 파운드리는 "참조 구현"을 제공하되, 최상의 솔루션을 제공하도록 권장해야 함**
* **엣지X 파운드리는 저장 및 전달 기능을 제공해야 함**
  * 연결이 끊어진/원격 엣지 시스템을 지원
  * 간헐적인 연결을 처리
* **엣지X 파운드리는 문제를 해결하기 위해 "지능"이 엣지로 더 가까이 이동할 수 있도록 지원하고 촉진해야 함**
  * 구동 지연 시간 문제
  * 대역폭 및 저장 문제
  * 원격 운영 문제
* **엣지X 파운드리는 갈색 및 녹색 장치/센서 현장 배치를 지원해야 함**
* **엣지X 파운드리는 안전하고 쉽게 관리되어야 함**

## 배치

엣지X는 원래 델이 그들의 IoT 게이트웨이에서 실행하기 위해 개발하였습니다. 엣지X는 게이트웨이에서 실행될 수 있음과 함께, 이의 플랫폼 구애받지 않는 특성과 마이크로 서비스 아키텍처를 통해 계층화된 분산 배치가 가능합니다. 다시 말해, 엣지X 마이크로 서비스의 단일 인스턴스는 여러 호스트 플랫폼에 걸쳐 분산될 수 있습니다. 하나 이상의 엣지X 마이크로 서비스를 위한 이러한 호스트 플랫폼을 노드라고 합니다. 이를 통해 엣지X는 컴퓨팅, 저장소, 네트워크 리소스를 엣지의 어디에서든 활용할 수 있습니다.

이러한 느슨한 연결(loosely-coupled) 아키텍처는 계층화된 엣지 컴퓨팅이 가능하도록 노드들에 걸쳐 분배를 가능하게 합니다. 예를 들어, 사물 통신 서비스는 PLC, 게이트웨이에서 실행되거나 다른 엣지X 서비스가 네트워크 서버 또는 심지어 클라우드에 배치되는 동안 보다 스마트한 센서에 내장될 수 있습니다. 따라서 배치의 범위는 내장된 센서, 제어기, 엣지 게이트웨이, 서버 및 클라우드 시스템을 포함할 수 있습니다.

![](https://docs.edgexfoundry.org/1.3/general/EdgeX_deployments.png)

엣지X 마이크로 서비스는 처리를 위한 지능을 물리적 엣지에 보다 가까이 배치함과 동시에 자원 활용을 최대화하기 위해 컴퓨팅 노드의 배열에 걸쳐 배치될 수 있습니다. 주어진 노드에 배치되는 특정한 마이크로 서비스의 수와 기능은 하드웨어와 인프라의 사용 사례와 능력에 따라 결정됩니다.

## 아파치 2 라이센스

엣지X는 아파치 재단에서 지원하는 아파치 2 라이센스에 따라 배포됩니다. 아파치 2 라이센스는 공개와 상업적 이익에 매우 우호적("관대함")입니다. 이는 사용자가 소프트웨어를 어떤 목적으로든 사용할 수 있도록 해줍니다. 사용자는 지원 프로젝트로부터 허락을 구하지 않고 배포, 수정, 그리고 심지어 코드 베이스를 포크까지 할 수 있습니다. 또한 사용자는 이익 공유나 리눅스 재단 또는 오픈소스 프로젝트 조직에 로열티를 지불하는 것에 대해 신경 쓰지 않고 상업용 제품을 개발할 수 있습니다.

## 엣지X 파운드리 서비스 계층

엣지X 파운드리는 마이크로 서비스의 한 집합체입니다. 이러한 마이크로 서비스들은 4개의 서비스 계층과 2개의 기반 확장 시스템 서비스로 구성됩니다. 서비스 계층은 핵심 서비스 계층과 지원 서비스 계층을 중심으로 (장치 서비스 계층에서) 물리적 영역의 엣지에서부터 (응용 서비스 계층에 이르는) 정보 영역의 엣지까지 이어집니다.

엣지X 파운드리의 4개의 서비스 계층은 다음과 같습니다:

* 핵심 서비스 계층(Core Services Layer)
* 지원 서비스 계층(Supporting Services Layer)
* 응용 서비스 계층(Application Services Layer)
* 장치 서비스 계층(Device Services Layer)

그리고 엣지X 파운드리의 2개의 기반 확장 시스템 서비스는 다음과 같습니다:
* 보안(Security)
* 시스템 관리(System Management)

![](https://docs.edgexfoundry.org/1.3/general/EdgeX_architecture.png)

### 핵심 서비스 계층

![](https://docs.edgexfoundry.org/1.3/general/EdgeX_CoreServicesLayer.png)

핵심 서비스는 엣지의 북쪽과 남쪽 사이에서의 중계를 제공합니다. 그 이름이 나타내듯이, 이 서비스는 엣지X의 기능의 "핵심"입니다. 핵심 서비스는 어떤 "사물"이 연결되어 있는지, 어떤 데이터가 전달되는지, 그리고 엣지X 인스턴스 내에 엣지X가 어떻게 구성되는지에 대한 가장 근본적인 지식을 담고 있습니다. 핵심 서비스는 다음의 마이크로 서비스로 구성됩니다:

* 코어 데이터: 남쪽의 개체에서 수집된 데이터를 위한 지속적인 저장소와 관련된 관리 서비스
* 명령: 북쪽에서 남쪽으로 전달되는 작동 요청을 촉진하고 제어하는 서비스
* 메타 데이터: 엣지X 파운드리에 연결된 개체에 관한 메타 데이터의 저장소와 관련된 관리 서비스. 메타 데이터는 새 장치를 대비하고 장치에 관련된 장치 서비스와 연결하는 기능을 제공합니다.
* 등록과 구성: 다른 마이크로 서비스에 엣지X 파운드리 내에 관련 서비스에 대한 정보와 마이크로 서비스 구성 속성을 제공(즉, 저장소 초기값)

핵심 서비스는 사물과 IT 시스템 간의 중계 통신을 제공합니다.

### 지원 서비스 계층

![](https://docs.edgexfoundry.org/1.3/general/EdgeX_SupportingServicesLayer.png)

지원 서비스는 엣지 분석(로컬 분석이라고도 함)을 포함하기 위해 넓은 범위의 마이크로 서비스를 아우릅니다. 로깅, 스케쥴링, 그리고 데이터 정리(엣지X에서 스크러빙이라고도 함) 등과 같은 일반적인 소프트웨어 어플리케이션 업무가 지원 서비스 계층의 마이크로 서비스로 수행됩니다.

이러한 서비스는 종종 기능하기 위해 어느 정도의 핵심 서비스를 필요로 합니다. 모든 경우에 지원 서비스는 선택적인 것으로 간주될 수 있습니다. 즉, 지원 서비스는 사용 사례 요구사항과 시스템 리소스에 따라 엣지X 배치에서 제외될 수 있습니다.

지원 서비스는 다음을 포함합니다:

* 규칙 엔진: 엣지X 인스턴스에 의해 수집된 센서 데이터를 기반으로 엣지에서 if-then 조건부 작동을 수행하는 참조 구현 엣지 분석 서비스. 이 서비스는 사용 케이스별 분석 기능으로 대체되거나 확장될 여지가 큽니다.
* 스케쥴링: 모든 엣지X 서비스에서 작업을 시작할 수 있는 내부 엣지X "시계". 지정된 시간 구성에 대해, 서비스는 작업을 시작하기 위해 REST를 통해 모든 엣지X 서비스를 호출할 것 입니다. 예를 들어, 스케쥴링 서비스는 엣지X 외부로 성공적으로 전송된 오래된 감지 이벤트를 정리하기 위해 주기적으로 핵심 데이터 API를 호출합니다.
* 로깅: 모든 엣지X 서비스를 위한 중앙 로깅 기능을 제공합니다. 이 서비스는 REST API를 통해 로그 항목을 데이터베이스나 로그 파일에 유지될 수 있는 로그 기능으로 전송합니다. 참고: 이 서비스는 더 이상 사용되지 않으며, 제네바 릴리즈 이후에 제거될 것 입니다. 서비스는 계속 표준 출력이나 파일 기록으로 로그를 남길 수 있을 것 입니다. 대부분의 운영 체제와 로깅 기능은 엣지X에서 로깅 서비스를 통해 제공하던 것보다 더 나은 로깅 기능을 제공합니다.
* 경고와 알림: 엣지X 서비스에 경고나 알림을 보낼 수 있는 중앙 기능을 제공합니다. 이는 다른 시스템이나 엣지X 인스턴스를 모니터링하는 사람에게 전달되는 알림입니다(내부 서비스 통신은 더 직접적으로 처리되는 경우가 많습니다).

### 응용 서비스 계층

![](https://docs.edgexfoundry.org/1.3/general/EdgeX_ApplicationServicesLayer.png)

응용 서비스는 엣지X에서 측정된 데이터를 추출, 처리/변환하고 엔드포인트 또는 선택된 프로세스로 전달하는 수단입니다. 엣지X는 현재 대부분의 주요 클라우드 서비스(아마존 IoT 허브, 구글 IoT 코어, 에저 IoT 허브, IBM 왓슨 IoT...), MQTT 토픽, HTTP REST 엔드포인트 등에 데이터를 보내는 응용 서비스 예제를 제공하고 있습니다.

응용 서비스는 "기능 파이프라인"의 아이디어에 기반을 두고 있습니다. 기능 파이프라인은 지정된 순서대로 메세지(이 경우에는 엣지X의 이벤트 메세지)를 처리하는 기능의 모음입니다. 파이프라인의 첫번째 기능은 트리거입니다. 트리거는 기능 파이프라인인의 실행을 시작합니다. 예를 들어, 트리거는 메세지 큐에 메세지가 도착하는 것과 같은 것 입니다. 그리고 나서 각 기능은 메세지에 대해 작동을 합니다. 공통 기능으로는 필터링, 변환(예, XML 또는 JSON), 압축 및 암호화 기능이 있습니다. 기능 파이프라인은 메세지가 모든 기능을 지나고 sink로 설정되면 종료됩니다. 결과 메세지를 에저 또는 AWS로 보낼 MQTT 토픽에 넣는 것이 응용 서비스의 sink 완료의 한 예입니다.

### 장치 서비스 계층

![](https://docs.edgexfoundry.org/1.3/general/EdgeX_DeviceServicesLayer.png)

장치 서비스는 센서와 장치인 "사물"을 엣지X의 나머지 부분에 연결합니다.

장치 서비스는 경보 시스템, 가정과 사무실 빌딩의 난방 및 냉방 시스템, 조명, 모든 산업의 기계, 관개 시스템, 드론, 일부 철도 시스템과 같이 현재 자동화된 수송, 현재 자동화된 공장, 여러분 가정의 가전 등을 포함하지만 이에 국한되지 않는 "사물"과 상호작용하는 엣지 커넥터입니다. 향후에 운전자가 없는 자동차와 트럭, 교통 신호, 완전히 자동화된 패스트푸드 시설, 완전히 자동화된 무인 식료품점, 환자로부터 의료 판독을 읽는 장치 등이 여기에 포함될 수 있습니다.

장치 서비스는 동시에 한개 이상의 사물이나 장치(센서, 작동기 등)에 대해 서비스가 가능할 것 입니다. 장치 서비스가 관리하는 장치는 단순한 단일 물리적인 장치가 아닌 다른 것일 수 있습니다. 장치는 엣지X 파운드리에 대한 또 다른 게이트웨이(및 게이트웨이의 모든 장치), 장치 관리자, 장치 역할을 하는 장치 제공자 또는 장치의 모음일 수 있습니다.

장치 서비스는 각 장치 개체의 고유한 프로토콜을 통해 장치, 센서, 구동기 그리고 다른 IoT 개체와 통신을 합니다. 장치 서비스는 IoT 개체가 생산하고 통신하는 데이터를 공통의 엣지X 파운드리 데이터 구조로 변화하여, 그 변환된 데이터를 핵심 서비스 계층과 엣지X 파운드리의 다른 계층에 있는 다른 마이크로 서비스로 보냅니다.

엣지X는 Modbus, BACnet, BLE 등과 같은 많은 공통 IoT 프로토콜을 사용하는 다수의 장치 서비스를 제공합니다.

### 시스템 서비스 계층

**보안 인프라**

![](https://docs.edgexfoundry.org/1.3/general/EdgeX_SecurityLayer.png)

엣지X 파운드리의 보안 요소는 엣지X 파운드리에 의해 관리되는 장치, 센서, 그리고 IoT 개체의 데이터와 제어를 보호합니다. 엣지X가 "네트워크의 엣지에 있는 벤더 중립적인 오픈소스 소프트웨어 플랫폼"이라는 사실에 기반하여, 엣지X 보안 기능 또한 개방형 인터페이스와 연결 및 교체가 가능한 모듈을 기반으로 개발되었습니다.

엣지X 보안 구성요소는 크게 2가지입니다:
* 엣지X 비밀을 지킬 수 있는 안전한 장소를 제공하는데 사용되는 보안 저장소. 엣지X 비밀의 예시로는 다른 서비스에서 사용되는 데이터베이스 접근 비밀번호와 클라우드 시스템에 연결하는 토큰이 있습니다.
* API 게이트웨이는 엣지X REST 자원에 대한 접근을 제한하고 관련된 일의 접근 제어를 수행하는 역방향 프록시 역할을 합니다.

**시스템 관리**

![](https://docs.edgexfoundry.org/1.3/general/EdgeX_SystemManagementLayer.png)

시스템 관리 설비는 엣지X 서비스를 모니터링하기 위해 외부 관리 시스템이 엣지X 서비스를 시작/정지/재시작하거나 서비스의 상태/건전성을 파악하거나, 또는 엣지X 서비스에 대한 지표(메모리 사용량 등)를 얻을 수 있는 중앙 연락 지점을 제공합니다.

### 소프트웨어 개발 키트(SDKs)

북쪽 또는 남쪽의 서비스를 생성하는데, 특히 응용 서비스와 장치 서비스의 생성, 도움을 주기 위해 엣지X는 두가지 형식의 SDK를 제공합니다. 북쪽과 남쪽 서비스 모두를 위한 SDK는 서비스의 기본적인 기능들을 책임지는 scaffolding 코드를 개발자에게 제공함으로써 새로운 사물 또는 새로운 클라우드/엔터프라이즈 시스템이 쉽게 연결되도록 만들어 줍니다. 그렇게 개발자는 마이크로 서비스의  raw plumbing을 걱정하지 않고 남쪽 또는 북쪽 개체에 대한 그들의 연결성의 세부사항에 집중할 수 있게 해줍니다.

SDK는 언어마다 다르며, SDK는 특정 프로그래밍 언어로 서비스를 생성하기 위해 작성된다는 것을 의미합니다. 오늘날 엣지X는 다음과 같은 SDK를 제공하고 있습니다.
* Golang 장치 서비스 SDK
* C 장치 서비스 SDK

## 엣지X 작동 방식

### 센서 데이터 수집

### 엣지 분석과 작동

## 프로젝트 출시 계획

## 엣지X 역사와 작명

원문: https://docs.edgexfoundry.org/1.3/
